<!-- Сделать форму для инпута и задизейблить кнопку если searchText есть -->

<form
  [formGroup]="searchForm"
  (ngSubmit)="submitSearchForm()"
  class="search-form"
>
  <input
    formControlName="searchText"
    class="search-form__input"
    placeholder="Search..."
  />
  <button class="search-form__submit" type="submit">
    <i class="fa fa-search"></i>
  </button>
</form>

<ul class="tree-list" *ngFor="let item of tree!.children">
  <ng-container
    *ngTemplateOutlet="listItem; context: { $implicit: item }"
  ></ng-container>
</ul>

<ng-template #listItem let-item>
  <li class="tree-list__item">
    <input
      [checked]="item.selected"
      [disabled]="name.isDisabled"
      [id]="item.treeItem.id"
      (change)="onCheckboxChange($event, item)"
      class="tree-list__input"
      type="checkbox"
    />
    <label
      search
      [searchText]="searchText"
      [for]="item.treeItem.id"
      class="tree-list__text"
      #name="search"
      >My name`s {{ item.treeItem.name | format }} and I`m
      {{ item.treeItem.age | format }}</label
    >

    <ng-container *ngIf="item.isBranch">
      <ul *ngFor="let item of item.children">
        <ng-container
          *ngTemplateOutlet="listItem; context: { $implicit: item }"
        ></ng-container>
      </ul>
    </ng-container>
  </li>
</ng-template>
